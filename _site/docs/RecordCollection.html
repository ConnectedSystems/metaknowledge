<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>RecordCollection &#8211; metaknowledge</title>
<meta name="description" content="A Collection of Records, this is what does most of the stuff on Records">
<meta name="keywords" content="class">


<!-- Twitter Cards -->
<meta name="twitter:title" content="RecordCollection">
<meta name="twitter:description" content="A Collection of Records, this is what does most of the stuff on Records">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/metaknowledge/images/site-logo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="RecordCollection">
<meta property="og:description" content="A Collection of Records, this is what does most of the stuff on Records">
<meta property="og:url" content="/metaknowledge/docs/RecordCollection">
<meta property="og:site_name" content="metaknowledge">






<link rel="canonical" href="/metaknowledge/docs/RecordCollection">
<link href="/metaknowledge/feed.xml" type="application/atom+xml" rel="alternate" title="metaknowledge Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/metaknowledge/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="/metaknowledge/assets/js/vendor/html5shiv.min.js"></script>
  <script src="/metaknowledge/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/metaknowledge/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/metaknowledge/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/metaknowledge/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/metaknowledge/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/metaknowledge/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/metaknowledge/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/metaknowledge/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="page">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="/metaknowledge/" >Home</a></li>
		  
		    
		    <li><a href="/metaknowledge/documentation/#Installing" >install</a></li>
		  
		    
		    <li><a href="/metaknowledge/documentation" >Documentation</a></li>
		  
		    
		    <li><a href="/metaknowledge/examples" >Examples</a></li>
		  
		    
		    <li><a href="/metaknowledge/cli" >CLI</a></li>
		  
		    
		    <li><a href="https://github.com/networks-lab/metaknowledge" target="_blank">GitHub</a></li>
		  
		    
		    <li><a href="http://www.networkslab.org" target="_blank">NetworksLab</a></li>
		  
		    
		    <li><a href="/metaknowledge/search" >Search</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
  		<a href="/metaknowledge/" class="site-logo" rel="home" title="metaknowledge"><img src="/metaknowledge/images/site-logo.png" width="200" height="200" alt="metaknowledge logo" class="animated fadeInDown"></a>
      
      <h1 class="site-title animated fadeIn"><a href="/metaknowledge/">metaknowledge</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">A Python3 package for social networks and bibliometric research on knowledge</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="entry">
    <div class="entry-wrapper">
      <div class="entry-content">
        <p><a name="RecordCollection"></a>
<a name="RecordCollection"></a><small></small><strong><a href="/metaknowledge/docs/RecordCollection#RecordCollection"><ins>RecordCollection</ins></a></strong>(<em><a href="#CollectionWithIDs"><u style="border-bottom: .5px dashed gray;">CollectionWithIDs</u></a></em>):</p>

<p><a name="RecordCollection.__init__"></a><small></small><strong><a href="/metaknowledge/docs/RecordCollection#RecordCollection.__init__"><ins>RecordCollection.__init__</ins></a></strong>(<em>inCollection=None, name=’’, extension=’’, cached=False, quietStart=False</em>):</p>

<p>A container for a large number of indivual records.</p>

<p><code class="highlighter-rouge">RecordCollection</code> provides ways of creating <a href="/metaknowledge/docs/RecordCollection#Record"><code class="highlighter-rouge">Records</code></a> from an isi file, string, list of records or directory containing isi files.</p>

<p>When being created if there are issues the Record collection will be declared bad, <code class="highlighter-rouge">bad</code> wil be set to <code class="highlighter-rouge">False</code>, it will then mostly return <code class="highlighter-rouge">None</code> or False. The attribute <code class="highlighter-rouge">error</code> contains the exception that occurred.</p>

<p>They also possess an attribute <code class="highlighter-rouge">name</code> also accessed accessed with <strong>__repr__</strong>(), this is used to auto generate the names of files and can be set at creation, note though that any operations that modify the RecordCollection’s contents will update the name to include what occurred.</p>

<h5 id="customizations">Customizations</h5>

<p>The Records are containing within a set and as such many of the set operations are defined, pop, union, in … also records are hashed with their WOS string so no duplication can occur. The comparison operators <code class="highlighter-rouge">&lt;</code>, <code class="highlighter-rouge">&lt;=</code>, <code class="highlighter-rouge">&gt;</code>, <code class="highlighter-rouge">&gt;=</code> are based strictly on the number of Records within the collection, while equality looks for an exact match on the Records</p>

<h5 id="init">__Init__</h5>

<p><em>inCollection</em> is the object containing the information about the Records to be constructed it can be an isi file, string, list of records or directory containing isi files</p>

<h5 id="parameters">Parameters</h5>

<p><em>inCollection</em> : <code class="highlighter-rouge">optional [str] or None</code></p>

<p>the name of the source of WOS records. It can be skipped to produce an empty collection.</p>

<p>If a file is provided. First it is checked to see if it is a WOS file (the header is checked). Then records are read from it one by one until the ‘EF’ string is found indicating the end of the file.</p>

<p>If a directory is provided. First each file in the directory is checked for the correct header and all those that do are then read like indivual files. The records are then collected into a single set in the RecordCollection.</p>

<p><em>name</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>The name of the RecordCollection, defaults to empty string. If left empty the name of the Record collection is set to the name of the file or directory used to create the collection. If provided the name id set to <em>name</em></p>

<p><em>extension</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>The extension to search for when reading a directory for files. <em>extension</em> is the suffix searched for when a directory is read for files, by default it is empty so all files are read.</p>

<p><em>cached</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> and the <em>inCollection</em> is a directory (a string giving the path to a directory) then the initialized <code class="highlighter-rouge">RecordCollection</code> will be saved in the directory as a Python pickle with the suffix <code class="highlighter-rouge">'.mkDirCache'</code>. Then if the <code class="highlighter-rouge">RecordCollection</code> is initialized a second time it will be recovered from the file, which is much faster than reprising every file in the directory.</p>

<p><em>metaknowledge</em> saves the names of the parsed files as well as their last modification times and will check these when recreating the <code class="highlighter-rouge">RecordCollection</code>, so modifying existing files or adding new ones will result in the entire directory being reanalyzed and a new cache file being created. The extension given to <strong>__init__</strong>() is taken into account as well and each suffix is given its own cache.</p>

<p><strong>Note</strong> The pickle allows for arbitrary python code exicution so only use caches that you trust.</p>

<h3>
The RecordCollection class has the following methods:</h3>

<ol class="post-list">
<li><article><a href="#dropNonJournals"><b>dropNonJournals</b>(<i>ptVal='J', dropBad=True, invert=False</i>)</a></article></li>
<li><article><a href="#writeFile"><b>writeFile</b>(<i>fname=None</i>)</a></article></li>
<li><article><a href="#writeCSV"><b>writeCSV</b>(<i>fname=None, splitByTag=None, onlyTheseTags=None, numAuthors=True, longNames=False, firstTags=None, csvDelimiter=',', csvQuote='"', listDelimiter='|'</i>)</a></article></li>
<li><article><a href="#writeBib"><b>writeBib</b>(<i>fname=None, maxStringLength=1000, wosMode=False, reducedOutput=False, niceIDs=True</i>)</a></article></li>
<li><article><a href="#makeDict"><b>makeDict</b>(<i>onlyTheseTags=None, longNames=False, raw=False, numAuthors=True</i>)</a></article></li>
<li><article><a href="#coAuthNetwork"><b>coAuthNetwork</b>(<i>detailedInfo=False, weighted=True, dropNonJournals=False, count=True</i>)</a></article></li>
<li><article><a href="#coCiteNetwork"><b>coCiteNetwork</b>(<i>dropAnon=True, nodeType='full', nodeInfo=True, fullInfo=False, weighted=True, dropNonJournals=False, count=True, keyWords=None, detailedCore=None, detailedCoreAttributes=False, coreOnly=False, expandedCore=False</i>)</a></article></li>
<li><article><a href="#citationNetwork"><b>citationNetwork</b>(<i>dropAnon=False, nodeType='full', nodeInfo=True, fullInfo=False, weighted=True, dropNonJournals=False, count=True, directed=True, keyWords=None, detailedCore=None, detailedCoreAttributes=False, coreOnly=False, expandedCore=False, recordToCite=True</i>)</a></article></li>
<li><article><a href="#yearSplit"><b>yearSplit</b>(<i>startYear, endYear, dropMissingYears=True</i>)</a></article></li>
<li><article><a href="#localCiteStats"><b>localCiteStats</b>(<i>pandasFriendly=False, keyType='citation'</i>)</a></article></li>
<li><article><a href="#localCitesOf"><b>localCitesOf</b>(<i>rec</i>)</a></article></li>
<li><article><a href="#citeFilter"><b>citeFilter</b>(<i>keyString='', field='all', reverse=False, caseSensitive=False</i>)</a></article></li>
</ol>
<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="dropNonJournals"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#dropNonJournals"><ins>dropNonJournals</ins></a></strong>(<em>ptVal=’J’, dropBad=True, invert=False</em>):</p>

<p>Drops the non journal type <code class="highlighter-rouge">Records</code> from the collection, this is done by checking <em>ptVal</em> against the PT tag</p>

<h6 id="parameters-1">Parameters</h6>

<p><em>ptVal</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">'J'</code>, The value of the PT tag to be kept, default is <code class="highlighter-rouge">'J'</code> the journal tag, other tags can be substituted.</p>

<p><em>dropBad</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> bad <code class="highlighter-rouge">Records</code> will be dropped as well those that are not journal entries</p>

<p><em>invert</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, Set <code class="highlighter-rouge">True</code> to drop journals (or the PT tag given by <em>ptVal</em>) instead of keeping them. <strong>Note</strong>, it still drops bad Records if <em>dropBad</em> is <code class="highlighter-rouge">True</code></p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="writeFile"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#writeFile"><ins>writeFile</ins></a></strong>(<em>fname=None</em>):</p>

<p>Writes the <code class="highlighter-rouge">RecordCollection</code> to a file, the written file’s format is identical to those download from WOS. The order of <code class="highlighter-rouge">Records</code> written is random.</p>

<h6 id="parameters-2">Parameters</h6>

<p><em>fname</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">None</code>, if given the output file will written to <em>fanme</em>, if <code class="highlighter-rouge">None</code> the <code class="highlighter-rouge">RecordCollection</code>’s name’s first 200 characters are used with the suffix .isi</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<table>
  <tbody>
    <tr>
      <td><a name="writeCSV"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#writeCSV"><ins>writeCSV</ins></a></strong>(_fname=None, splitByTag=None, onlyTheseTags=None, numAuthors=True, longNames=False, firstTags=None, csvDelimiter=’,’, csvQuote=’”’, listDelimiter=’</td>
      <td>‘_):</td>
    </tr>
  </tbody>
</table>

<p>Writes all the <code class="highlighter-rouge">Records</code> from the collection into a csv file with each row a record and each column a tag.</p>

<h6 id="parameters-3">Parameters</h6>

<p><em>fname</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">None</code>, the name of the file to write to, if <code class="highlighter-rouge">None</code> it uses the collections name suffixed by .csv.</p>

<p><em>splitByTag</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">None</code>, if a tag is given the output will be divided into different files according to the value of the tag, with only the records associated with that tag. For example if <code class="highlighter-rouge">'authorsFull'</code> is given then each file will only have the lines for <code class="highlighter-rouge">Records</code> that author is named in.</p>

<p>The file names are the values of the tag followed by a dash then the normale name for the file as given by <em>fname</em>, e.g. for the year 2016 the file could be called <code class="highlighter-rouge">'2016-fname.csv'</code>.</p>

<p><em>onlyTheseTags</em> : <code class="highlighter-rouge">optional [iterable]</code></p>

<p>Default <code class="highlighter-rouge">None</code>, if an iterable (list, tuple, etc) only the tags in <em>onlyTheseTags</em> will be used, if not given then all tags in the records are given.</p>

<p>If you want to use all known tags pass <a href="/metaknowledge/docs/RecordCollection#tagProcessing"><code class="highlighter-rouge">metaknowledge.knownTagsList</code></a>.</p>

<p><em>numAuthors</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> adds the number of authors as the column <code class="highlighter-rouge">'numAuthors'</code>.</p>

<p><em>longNames</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> will convert the tags to their longer names, otherwise the short 2 character ones will be used.</p>

<p><em>firstTags</em> : <code class="highlighter-rouge">optional [iterable]</code></p>

<p>Default <code class="highlighter-rouge">None</code>, if <code class="highlighter-rouge">None</code> the iterable <code class="highlighter-rouge">['UT', 'PT', 'TI', 'AF', 'CR']</code> is used. The tags given by the iterable are the first ones in the csv in the order given.</p>

<p><strong>Note</strong> if tags are in <em>firstTags</em> but not in <em>onlyTheseTags</em>, <em>onlyTheseTags</em> will override <em>firstTags</em></p>

<p><em>csvDelimiter</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">','</code>, the delimiter used for the cells of the csv file.</p>

<p><em>csvQuote</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">'"'</code>, the quote character used for the csv.</p>

<p><em>listDelimiter</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">'|'</code>, the delimiter used between values of the same cell if the tag for that record has multiple outputs.</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="writeBib"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#writeBib"><ins>writeBib</ins></a></strong>(<em>fname=None, maxStringLength=1000, wosMode=False, reducedOutput=False, niceIDs=True</em>):</p>

<p>Writes a bibTex entry to <em>fname</em> for each <code class="highlighter-rouge">Record</code> in the collection.</p>

<p>If the Record is of a journal article (PT J) the bibtext type is set to <code class="highlighter-rouge">'article'</code>, otherwise it is set to <code class="highlighter-rouge">'misc'</code>. The ID of the entry is the WOS number and all the Record’s fields are given as entries with their long names.</p>

<p><strong>Note</strong> This is not meant to be used directly with LaTeX none of the special characters have been escaped and there are a large number of unnecessary fields provided. <em>niceID</em> and <em>maxLength</em> have been provided to make conversions easier only.</p>

<p><strong>Note</strong> Record entries that are lists have their values separated with the string <code class="highlighter-rouge">' and '</code>, as this is the way bibTex understands</p>

<h6 id="parameters-4">Parameters</h6>

<p><em>fname</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">None</code>, The name of the file to be written. If not given one will be derived from the collection and the file will be written to .</p>

<p><em>maxStringLength</em> : <code class="highlighter-rouge">optional [int]</code></p>

<p>Default 1000, The max length for a continuous string. Most bibTex implementation only allow string to be up to 1000 characters (<a href="https://www.cs.arizona.edu/~collberg/Teaching/07.231/BibTeX/bibtex.html">source</a>), this splits them up into substrings then uses the native string concatenation (the <code class="highlighter-rouge">'#'</code> character) to allow for longer strings</p>

<p><em>WOSMode</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> the data produced will be unprocessed and use double curly braces. This is the style WOS produces bib files in and mostly macthes that.</p>

<p><em>restrictedOutput</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> the tags output will be limited to: <code class="highlighter-rouge">'AF'</code>, <code class="highlighter-rouge">'BF'</code>, <code class="highlighter-rouge">'ED'</code>, <code class="highlighter-rouge">'TI'</code>, <code class="highlighter-rouge">'SO'</code>, <code class="highlighter-rouge">'LA'</code>, <code class="highlighter-rouge">'NR'</code>, <code class="highlighter-rouge">'TC'</code>, <code class="highlighter-rouge">'Z9'</code>, <code class="highlighter-rouge">'PU'</code>, <code class="highlighter-rouge">'J9'</code>, <code class="highlighter-rouge">'PY'</code>, <code class="highlighter-rouge">'PD'</code>, <code class="highlighter-rouge">'VL'</code>, <code class="highlighter-rouge">'IS'</code>, <code class="highlighter-rouge">'SU'</code>, <code class="highlighter-rouge">'PG'</code>, <code class="highlighter-rouge">'DI'</code>, <code class="highlighter-rouge">'D2'</code>, and <code class="highlighter-rouge">'UT'</code></p>

<p><em>niceID</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> the IDs used will be derived from the authors, publishing date and title, if <code class="highlighter-rouge">False</code> it will be the UT tag</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="makeDict"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#makeDict"><ins>makeDict</ins></a></strong>(<em>onlyTheseTags=None, longNames=False, raw=False, numAuthors=True</em>):</p>

<p>Returns a dict with each key a tag and the values being lists of the values for each of the Records in the collection, <code class="highlighter-rouge">None</code> is given when there is no value and they are in the same order across each tag.</p>

<p>When used with pandas: <code class="highlighter-rouge">pandas.DataFrame(RC.makeDict())</code> returns a data frame with each column a tag and each row a Record.</p>

<h6 id="parameters-5">Parameters</h6>

<p><em>onlyTheseTags</em> : <code class="highlighter-rouge">optional [iterable]</code></p>

<p>Default <code class="highlighter-rouge">None</code>, if an iterable (list, tuple, etc) only the tags in <em>onlyTheseTags</em> will be used, if not given then all tags in the records are given.</p>

<p>If you want to use all known tags pass <a href="/metaknowledge/docs/RecordCollection#tagProcessing"><code class="highlighter-rouge">metaknowledge.knownTagsList</code></a>.</p>

<p><em>longNames</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> will convert the tags to their longer names, otherwise the short 2 character ones will be used.</p>

<p><em>cleanedVal</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> the processed values for each <code class="highlighter-rouge">Record</code>’s field will be provided, otherwise the raw values are given.</p>

<p><em>numAuthors</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> adds the number of authors as the column <code class="highlighter-rouge">'numAuthors'</code>.</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="coAuthNetwork"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#coAuthNetwork"><ins>coAuthNetwork</ins></a></strong>(<em>detailedInfo=False, weighted=True, dropNonJournals=False, count=True</em>):</p>

<p>Creates a coauthorship network for the RecordCollection.</p>

<h6 id="parameters-6">Parameters</h6>

<p><em>detailedInfo</em> : <code class="highlighter-rouge">optional [bool or iterable[WOS tag Strings]]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> all nodes will be given info strings composed of information from the Record objects themselves. This is Equivalent to passing the list: <code class="highlighter-rouge">['PY', 'TI', 'SO', 'VL', 'BP']</code>.</p>

<p>If <em>detailedInfo</em> is an iterable (that evaluates to <code class="highlighter-rouge">True</code>) of WOS Tags (or long names) The values  of those tags will be used to make the info attributes.</p>

<p>For each of the selected tags an attribute will be added to the node using the values of those tags on the first <code class="highlighter-rouge">Record</code> encountered. <strong>Warning</strong> iterating over <code class="highlighter-rouge">RecordCollection</code> objects is not deterministic the first <code class="highlighter-rouge">Record</code> will not always be same between runs. The node will be given attributes with the names of the WOS tags for each of the selected tags. The attributes will contain strings of containing the values (with commas removed), if multiple values are encountered they will be comma separated.</p>

<p>Note: <em>detailedInfo</em> is not identical to the <em>detailedCore</em> argument of <a href="/metaknowledge/docs/RecordCollection#coCiteNetwork"><code class="highlighter-rouge">Recordcollection.coCiteNetwork()</code></a> or <a href="/metaknowledge/docs/RecordCollection#citationNetwork"><code class="highlighter-rouge">Recordcollection.citationNetwork()</code></a></p>

<p><em>weighted</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, wether the edges are weighted. If <code class="highlighter-rouge">True</code> the edges are weighted by the number of co-authorships.</p>

<p><em>dropNonJournals</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, wether to drop authors from non-journals</p>

<p><em>count</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, causes the number of occurrences of a node to be counted</p>

<h6 id="returns">Returns</h6>

<p><code class="highlighter-rouge">Networkx Graph</code></p>

<p>A networkx graph with author names as nodes and collaborations as edges.</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="coCiteNetwork"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#coCiteNetwork"><ins>coCiteNetwork</ins></a></strong>(<em>dropAnon=True, nodeType=’full’, nodeInfo=True, fullInfo=False, weighted=True, dropNonJournals=False, count=True, keyWords=None, detailedCore=None, detailedCoreAttributes=False, coreOnly=False, expandedCore=False</em>):</p>

<p>Creates a co-citation network for the RecordCollection.</p>

<h6 id="parameters-7">Parameters</h6>

<p><em>nodeType</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>One of <code class="highlighter-rouge">"full"</code>, <code class="highlighter-rouge">"original"</code>, <code class="highlighter-rouge">"author"</code>, <code class="highlighter-rouge">"journal"</code> or <code class="highlighter-rouge">"year"</code>. Specifies the value of the nodes in the graph. The default <code class="highlighter-rouge">"full"</code> causes the citations to be compared holistically using the <a href="/metaknowledge/docs/RecordCollection#Citation"><code class="highlighter-rouge">metaknowledge.Citation</code></a> builtin comparison operators. <code class="highlighter-rouge">"original"</code> uses the raw original strings of the citations. While <code class="highlighter-rouge">"author"</code>, <code class="highlighter-rouge">"journal"</code> and <code class="highlighter-rouge">"year"</code> each use the author, journal and year respectively.</p>

<p><em>dropAnon</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> citations labeled anonymous are removed from the network</p>

<p><em>nodeInfo</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> an extra piece of information is stored with each node. The extra inforamtion is detemined by <em>nodeType</em>.</p>

<p><em>fullInfo</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> the original citation string is added to the node as an extra value, the attribute is labeled as fullCite</p>

<p><em>weighted</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, wether the edges are weighted. If <code class="highlighter-rouge">True</code> the edges are weighted by the number of citations.</p>

<p><em>dropNonJournals</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, wether to drop citations of non-journals</p>

<p><em>count</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, causes the number of occurrences of a node to be counted</p>

<p><em>keyWords</em> : <code class="highlighter-rouge">optional [str] or [list[str]]</code></p>

<p>A string or list of strings that the citations are checked against, if they contain any of the strings they are removed from the network</p>

<p><em>detailedCore</em> : <code class="highlighter-rouge">optional [bool or iterable[WOS tag Strings]]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> all Citations from the core (those of records in the RecordCollection) and the <em>nodeType</em> is <code class="highlighter-rouge">'full'</code> all nodes from the core will be given info strings composed of information from the Record objects themselves. This is Equivalent to passing the list: <code class="highlighter-rouge">['AF', 'PY', 'TI', 'SO', 'VL', 'BP']</code>.</p>

<p>If <em>detailedCore</em> is an iterable (That evaluates to <code class="highlighter-rouge">True</code>) of WOS Tags (or long names) The values  of those tags will be used to make the info attribute. All</p>

<p>The resultant string is the values of each tag, with commas removed, seperated by <code class="highlighter-rouge">', '</code>, just like the info given by non-core Citations. Note that for tags like <code class="highlighter-rouge">'AF'</code> that return lists only the first entry in the list will be used. Also a second attribute is created for all nodes called inCore wich is a boolean describing if the node is in the core or not.</p>

<p>Note: <em>detailedCore</em>  is not identical to the <em>detailedInfo</em> argument of <a href="/metaknowledge/docs/RecordCollection#coAuthNetwork"><code class="highlighter-rouge">Recordcollection.coAuthNetwork()</code></a></p>

<p><em>coreOnly</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> only Citations from the RecordCollection will be included in the network</p>

<p><em>expandedCore</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> all citations in the ouput graph that are records in the collection will be duplicated for each author. If the nodes are <code class="highlighter-rouge">"full"</code>, <code class="highlighter-rouge">"original"</code> or <code class="highlighter-rouge">"author"</code> this will result in new noded being created for the other options the results are <strong>not</strong> defined or tested. Edges will be created between each of the nodes for each record expanded, attributes will be copied from exiting nodes.</p>

<h6 id="returns-1">Returns</h6>

<p><code class="highlighter-rouge">Networkx Graph</code></p>

<p>A networkx graph with hashes as ID and co-citation as edges</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="citationNetwork"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#citationNetwork"><ins>citationNetwork</ins></a></strong>(<em>dropAnon=False, nodeType=’full’, nodeInfo=True, fullInfo=False, weighted=True, dropNonJournals=False, count=True, directed=True, keyWords=None, detailedCore=None, detailedCoreAttributes=False, coreOnly=False, expandedCore=False, recordToCite=True</em>):</p>

<p>Creates a citation network for the RecordCollection.</p>

<h6 id="parameters-8">Parameters</h6>

<p><em>nodeType</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>One of <code class="highlighter-rouge">"full"</code>, <code class="highlighter-rouge">"original"</code>, <code class="highlighter-rouge">"author"</code>, <code class="highlighter-rouge">"journal"</code> or <code class="highlighter-rouge">"year"</code>. Specifies the value of the nodes in the graph. The default <code class="highlighter-rouge">"full"</code> causes the citations to be compared holistically using the <a href="/metaknowledge/docs/RecordCollection#Citation"><code class="highlighter-rouge">metaknowledge.Citation</code></a> builtin comparison operators. <code class="highlighter-rouge">"original"</code> uses the raw original strings of the citations. While <code class="highlighter-rouge">"author"</code>, <code class="highlighter-rouge">"journal"</code> and <code class="highlighter-rouge">"year"</code> each use the author, journal and year respectively.</p>

<p><em>dropAnon</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> citations labeled anonymous are removed from the network</p>

<p><em>nodeInfo</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, wether an extra piece of information is stored with each node.</p>

<p><em>fullInfo</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, wether the original citation string is added to the node as an extra value, the attribute is labeled as fullCite</p>

<p><em>weighted</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, wether the edges are weighted. If <code class="highlighter-rouge">True</code> the edges are weighted by the number of citations.</p>

<p><em>dropNonJournals</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, wether to drop citations of non-journals</p>

<p><em>count</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, causes the number of occurrences of a node to be counted</p>

<p><em>keyWords</em> : <code class="highlighter-rouge">optional [str] or [list[str]]</code></p>

<p>A string or list of strings that the citations are checked against, if they contain any of the strings they are removed from the network</p>

<p><em>directed</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Determines if the output graph is directed, default <code class="highlighter-rouge">True</code></p>

<p><em>detailedCore</em> : <code class="highlighter-rouge">optional [bool or iterable[WOS tag Strings]]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> all Citations from the core (those of records in the RecordCollection) and the <em>nodeType</em> is <code class="highlighter-rouge">'full'</code> all nodes from the core will be given info strings composed of information from the Record objects themselves. This is Equivalent to passing the list: <code class="highlighter-rouge">['AF', 'PY', 'TI', 'SO', 'VL', 'BP']</code>.</p>

<p>If <em>detailedCore</em> is an iterable (That evaluates to <code class="highlighter-rouge">True</code>) of WOS Tags (or long names) The values  of those tags will be used to make the info attribute. All</p>

<p>The resultant string is the values of each tag, with commas removed, seperated by <code class="highlighter-rouge">', '</code>, just like the info given by non-core Citations. Note that for tags like <code class="highlighter-rouge">'AF'</code> that return lists only the first entry in the list will be used. Also a second attribute is created for all nodes called inCore wich is a boolean describing if the node is in the core or not.</p>

<p>Note: <em>detailedCore</em>  is not identical to the <em>detailedInfo</em> argument of <a href="/metaknowledge/docs/RecordCollection#coAuthNetwork"><code class="highlighter-rouge">Recordcollection.coAuthNetwork()</code></a></p>

<p><em>coreOnly</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> only Citations from the RecordCollection will be included in the network</p>

<p><em>expandedCore</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> all citations in the ouput graph that are records in the collection will be duplicated for each author. If the nodes are <code class="highlighter-rouge">"full"</code>, <code class="highlighter-rouge">"original"</code> or <code class="highlighter-rouge">"author"</code> this will result in new noded being created for the other options the results are <strong>not</strong> defined or tested. Edges will be created between each of the nodes for each record expanded, attributes will be copied from exiting nodes.</p>

<h6 id="returns-2">Returns</h6>

<p><code class="highlighter-rouge">Networkx DiGraph or Networkx Graph</code></p>

<p>See <em>directed</em> for explanation of returned type</p>

<p>A networkx digraph with hashes as ID and citations as edges</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="yearSplit"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#yearSplit"><ins>yearSplit</ins></a></strong>(<em>startYear, endYear, dropMissingYears=True</em>):</p>

<p>Creates a RecordCollection of Records from the years between <em>startYear</em> and <em>endYear</em> inclusive.</p>

<h6 id="parameters-9">Parameters</h6>

<p><em>startYear</em> : <code class="highlighter-rouge">int</code></p>

<p>The smallest year to be included in the returned RecordCollection</p>

<p><em>endYear</em> : <code class="highlighter-rouge">int</code></p>

<p>The largest year to be included in the returned RecordCollection</p>

<p><em>dropMissingYears</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> Records with missing years will be dropped. If <code class="highlighter-rouge">False</code> a <code class="highlighter-rouge">TypeError</code> exception will be raised</p>

<h6 id="returns-3">Returns</h6>

<p><code class="highlighter-rouge">RecordCollection</code></p>

<p>A RecordCollection of Records from <em>startYear</em> to <em>endYear</em></p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="localCiteStats"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#localCiteStats"><ins>localCiteStats</ins></a></strong>(<em>pandasFriendly=False, keyType=’citation’</em>):</p>

<p>Returns a dict with all the citations in the CR field as keys and the number of times they occur as the values</p>

<h6 id="parameters-10">Parameters</h6>

<p><em>pandasFriendly</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, makes the output be a dict with two keys one <code class="highlighter-rouge">'Citations'</code> is the citations the other is their occurrence counts as <code class="highlighter-rouge">'Counts'</code>.</p>

<p><em>keyType</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>default <code class="highlighter-rouge">'citation'</code>, the type of key to use for the dictionary, the valid strings are <code class="highlighter-rouge">'citation'</code>, <code class="highlighter-rouge">'journal'</code>, <code class="highlighter-rouge">'year'</code> or <code class="highlighter-rouge">'author'</code>. IF changed from <code class="highlighter-rouge">'citation'</code> all citations matching the requested option will be contracted and their counts added together.</p>

<h6 id="returns-4">Returns</h6>

<p><code class="highlighter-rouge">dict[str, int or Citation : int]</code></p>

<p>A dictionary with keys as given by <em>keyType</em> and integers giving their rates of occurrence in the collection</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="localCitesOf"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#localCitesOf"><ins>localCitesOf</ins></a></strong>(<em>rec</em>):</p>

<p>Takes in a Record, WOS string, citation string or Citation and returns a RecordCollection of all records that cite it.</p>

<h6 id="parameters-11">Parameters</h6>

<p><em>rec</em> : <code class="highlighter-rouge">Record, str or Citation</code></p>

<p>The object that is being cited</p>

<h6 id="returns-5">Returns</h6>

<p><code class="highlighter-rouge">RecordCollection</code></p>

<p>A <code class="highlighter-rouge">RecordCollection</code> containing only those <code class="highlighter-rouge">Records</code> that cite <em>rec</em></p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="citeFilter"></a><small>RecordCollection.</small><strong><a href="/metaknowledge/docs/RecordCollection#citeFilter"><ins>citeFilter</ins></a></strong>(<em>keyString=’’, field=’all’, reverse=False, caseSensitive=False</em>):</p>

<p>Filters <code class="highlighter-rouge">Records</code> by some string, <em>keyString</em>, in their citations and returns all <code class="highlighter-rouge">Records</code> with at least one citation possessing <em>keyString</em> in the field given by <em>field</em>.</p>

<h6 id="parameters-12">Parameters</h6>

<p><em>keyString</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">''</code>, gives the string to be searched for, if it is is blank then all citations with the specified field will be matched</p>

<p><em>field</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Default <code class="highlighter-rouge">'all'</code>, gives the component of the citation to be looked at, it can be one of a few strings. The default is <code class="highlighter-rouge">'all'</code> which will cause the entire original <code class="highlighter-rouge">Citation</code> to be searched. It can be used to search across fields, e.g. <code class="highlighter-rouge">'1970, V2'</code> is a valid keystring
The other options are:</p>

<ul>
  <li><code class="highlighter-rouge">'author'</code>, searches the author field</li>
  <li><code class="highlighter-rouge">'year'</code>, searches the year field</li>
  <li><code class="highlighter-rouge">'journal'</code>, searches the journal field</li>
  <li><code class="highlighter-rouge">'V'</code>, searches the volume field</li>
  <li><code class="highlighter-rouge">'P'</code>, searches the page field</li>
  <li><code class="highlighter-rouge">'misc'</code>, searches all the remaining uncategorized information</li>
  <li><code class="highlighter-rouge">'anonymous'</code>, searches for anonymous <code class="highlighter-rouge">Citations</code>, <em>keyString</em> is not ignored</li>
  <li><code class="highlighter-rouge">'bad'</code>, searches for bad citations, keyString is not used</li>
</ul>

<p><em>reverse</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, being set to <code class="highlighter-rouge">True</code> causes all <code class="highlighter-rouge">Records</code> not matching the query to be returned</p>

<p><em>caseSensitive</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>Default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> causes the search across the original to be case sensitive, <strong>only</strong> the <code class="highlighter-rouge">'all'</code> option can be case sensitive</p>

<hr />

<h2 id="questions">Questions?</h2>

<p>If you find bugs, or have questions, please write to:</p>

<p>Reid McIlroy-Young <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#114;&#101;&#105;&#100;&#064;&#114;&#101;&#105;&#100;&#109;&#099;&#121;&#046;&#099;&#111;&#109;">&#114;&#101;&#105;&#100;&#064;&#114;&#101;&#105;&#100;&#109;&#099;&#121;&#046;&#099;&#111;&#109;</a></p>

<p>John McLevey <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#106;&#111;&#104;&#110;&#046;&#109;&#099;&#108;&#101;&#118;&#101;&#121;&#064;&#117;&#119;&#097;&#116;&#101;&#114;&#108;&#111;&#111;&#046;&#099;&#097;">&#106;&#111;&#104;&#110;&#046;&#109;&#099;&#108;&#101;&#118;&#101;&#121;&#064;&#117;&#119;&#097;&#116;&#101;&#114;&#108;&#111;&#111;&#046;&#099;&#097;</a></p>

<hr />

<h2 id="license">License</h2>

<p><em>metaknowledge</em> is free and open source software, distributed under the GPL License.</p>

      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2016 John McLevey and Reid McIlroy-Young. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	
	
	
	
	
	
	
	
	
  
	
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-25394214-5', 'auto');
  ga('send', 'pageview');

</script>
  
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = '/metaknowledge';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/metaknowledge/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/metaknowledge/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 'https://www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-25394214-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = 'https://stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



</body>
</html>
