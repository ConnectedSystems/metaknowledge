<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>WOSRecord &#8211; metaknowledge</title>
<meta name="description" content="The object for containing and processing WOS entries">
<meta name="keywords" content="class">


<!-- Twitter Cards -->
<meta name="twitter:title" content="WOSRecord">
<meta name="twitter:description" content="The object for containing and processing WOS entries">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/metaknowledge/images/site-logo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="WOSRecord">
<meta property="og:description" content="The object for containing and processing WOS entries">
<meta property="og:url" content="/metaknowledge/docs/WOSRecord">
<meta property="og:site_name" content="metaknowledge">






<link rel="canonical" href="/metaknowledge/docs/WOSRecord">
<link href="/metaknowledge/feed.xml" type="application/atom+xml" rel="alternate" title="metaknowledge Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/metaknowledge/assets/css/main.css">
<!-- Webfonts -->
<script src="https://use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="/metaknowledge/assets/js/vendor/html5shiv.min.js"></script>
  <script src="/metaknowledge/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/metaknowledge/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>


<!-- MathJax -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/metaknowledge/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/metaknowledge/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/metaknowledge/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/metaknowledge/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/metaknowledge/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/metaknowledge/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="page">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		    <li><a href="/metaknowledge/" >Home</a></li>
		  
		    
		    <li><a href="/metaknowledge/documentation/#Installing" >install</a></li>
		  
		    
		    <li><a href="/metaknowledge/documentation" >Documentation</a></li>
		  
		    
		    <li><a href="/metaknowledge/examples" >Examples</a></li>
		  
		    
		    <li><a href="/metaknowledge/cli" >CLI</a></li>
		  
		    
		    <li><a href="https://github.com/networks-lab/metaknowledge" target="_blank">GitHub</a></li>
		  
		    
		    <li><a href="http://www.networkslab.org" target="_blank">NetworksLab</a></li>
		  
		    
		    <li><a href="/metaknowledge/search" >Search</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
  		<a href="/metaknowledge/" class="site-logo" rel="home" title="metaknowledge"><img src="/metaknowledge/images/site-logo.png" width="200" height="200" alt="metaknowledge logo" class="animated fadeInDown"></a>
      
      <h1 class="site-title animated fadeIn"><a href="/metaknowledge/">metaknowledge</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">A Python3 package for social networks and bibliometric research on knowledge</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="entry">
    <div class="entry-wrapper">
      <div class="entry-content">
        <p><a name="WOSRecord"></a>
<a name="WOSRecord"></a><small></small><strong><a href="/metaknowledge/docs/WOSRecord#WOSRecord"><ins>WOSRecord</ins></a></strong>(<em><a href="#ExtendedRecord"><u style="border-bottom: .5px dashed gray;">ExtendedRecord</u></a></em>):</p>

<p><a name="WOSRecord.__init__"></a><small></small><strong><a href="/metaknowledge/docs/WOSRecord#WOSRecord.__init__"><ins>WOSRecord.__init__</ins></a></strong>(<em>inRecord, sFile=’’, sLine=0</em>):</p>

<p>Class for full WOS records</p>

<p>It is meant to be immutable; many of the methods and attributes are evaluated when first called, not when the object is created, and the results are stored privately.</p>

<p>The record’s meta-data is stored in an ordered dictionary labeled by WOS tags. To access the raw data stored in the original record the <a href="/metaknowledge/docs/WOSRecord#Tag"><strong>Tag</strong>()</a> method can be used. To access data that has been processed and cleaned the attributes named after the tags are used.</p>

<h5 id="customizations">Customizations</h5>

<p>The <code class="highlighter-rouge">Record</code>’s hashing and equality testing are based on the WOS number (the tag is ‘UT’, and also called the accession number). They are strings starting with <code class="highlighter-rouge">'WOS:'</code> and followed by 15 or so numbers and letters, although both the length and character set are known to vary. The numbers are unique to each record so are used for comparisons. If a record is <code class="highlighter-rouge">bad</code>  all equality checks return <code class="highlighter-rouge">False</code>.</p>

<p>When converted to a string the records title is used so for a record <code class="highlighter-rouge">R</code>, <code class="highlighter-rouge">R.TI == R.title == str(R)</code> and its representation uses the WOS number instead of memory location.</p>

<h5 id="attributes">Attributes</h5>

<p>When a record is created if the parsing of the WOS file failed it is marked as <code class="highlighter-rouge">bad</code>. The <code class="highlighter-rouge">bad</code> attribute is set to True and the <code class="highlighter-rouge">error</code> attribute is created to contain the exception object.</p>

<p>Generally, to get the information from a Record its attributes should be used. For a Record <code class="highlighter-rouge">R</code>, calling <code class="highlighter-rouge">R.CR</code> causes <a href="/metaknowledge/docs/WOSRecord#citations"><strong>citations</strong>()</a> from the the <a href="/metaknowledge/docs/WOSRecord#tagProcessing">tagProcessing</a> module to be called on the contents of the raw ‘CR’ field. Then the result is saved and returned. In this case, a list of Citation objects is returned. You can also call <code class="highlighter-rouge">R.citations</code> to get the same effect, as each known field tag has a longer name (currently there are 61 field tags). These names are meant to make accessing tags more readable and mapping from tag to name can be found in the tagToFull dict. If a tag is known (in <a href="/metaknowledge/docs/WOSRecord#metaknowledge">tagToFull</a>) but not in the raw data <code class="highlighter-rouge">None</code> is returned instead. Most tags when cleaned return a string or list of strings, the exact results can be found in the help for the particular function.</p>

<p>The attribute <code class="highlighter-rouge">authors</code> is also defined as a connivence and returns the same as ‘AF’ or if that is not found ‘AU’.</p>

<h5 id="init">__Init__</h5>

<p>Records are generally create as collections in  <a href="/metaknowledge/docs/WOSRecord#RecordCollection">Recordcollections</a>, and not as individual objects. If you wish to create one on its own it is possible, the arguments are as follows.</p>

<h5 id="parameters">Parameters</h5>

<p><em>inRecord</em>: <code class="highlighter-rouge">files stream, dict, str or itertools.chain</code></p>

<p>If it is a file stream the file must be open at the location of the first tag in the record, usually ‘PT’, and the file will be read until ‘ER’ is found, which indicates the end of the record in the file.</p>

<p>If a dict is passed the dictionary is used as the database of fields and tags, so each key is considered a WOS tag and each value a list of the lines of the original associated with the tag. This is the same form of dict that <a href="/metaknowledge/docs/WOSRecord#recordParser">recordParser</a> returns.</p>

<p>For a string the input must be the raw textual data of a single record in the WOS style, like the file stream it must start at the first tag and end in <code class="highlighter-rouge">'ER'</code>.</p>

<p>itertools.chain is treated identically to a file stream and is used by <a href="/metaknowledge/docs/WOSRecord#RecordCollection">RecordCollections</a>.</p>

<p><em>sFile</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>Is the name of the file the raw data was in, by default it is blank. It is mostly used to make error messages more informative.</p>

<p><em>sLine</em> : <code class="highlighter-rouge">optional [int]</code></p>

<p>Is the line the record starts on in the raw data file. It is mostly used to make error messages more informative.</p>

<h3>
The WOSRecord class has the following methods:</h3>

<ol class="post-list">
<li><article><a href="#tagProcessingFunc"><b>tagProcessingFunc</b>(<i>tag</i>)</a></article></li>
<li><article><a href="#specialFuncs"><b>specialFuncs</b>(<i>key</i>)</a></article></li>
<li><article><a href="#writeRecord"><b>writeRecord</b>(<i>infile</i>)</a></article></li>
<li><article><a href="#bibString"><b>bibString</b>(<i>maxLength=1000, WOSMode=False, restrictedOutput=False, niceID=True</i>)</a></article></li>
<li><article><a href="#bibTexType"><b>bibTexType</b>()</a></article></li>
<li><article><a href="#encoding"><b>encoding</b>()</a></article></li>
<li><article><a href="#getAltName"><b>getAltName</b>(<i>tag</i>)</a></article></li>
</ol>
<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="tagProcessingFunc"></a><small>WOSRecord.</small><strong><a href="/metaknowledge/docs/WOSRecord#tagProcessingFunc"><ins>tagProcessingFunc</ins></a></strong>(<em>tag</em>):</p>

<p>An <code class="highlighter-rouge">abstractmethod</code>, gives the function for processing <em>tag</em></p>

<h6 id="parameters-1">Parameters</h6>

<p><em>tag</em> : <code class="highlighter-rouge">optional [str]</code></p>

<p>The tag in need of processing</p>

<h6 id="returns">Returns</h6>

<p><code class="highlighter-rouge">fucntion</code></p>

<p>The function to process the raw tag</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="specialFuncs"></a><small>WOSRecord.</small><strong><a href="/metaknowledge/docs/WOSRecord#specialFuncs"><ins>specialFuncs</ins></a></strong>(<em>key</em>):</p>

<p>An <code class="highlighter-rouge">abstractmethod</code>, process the special tag, <em>key</em> using the whole <code class="highlighter-rouge">Record</code></p>

<h6 id="parameters-2">Parameters</h6>

<p><em>key</em> : <code class="highlighter-rouge">str</code></p>

<p>One of the special tags: <code class="highlighter-rouge">'authorsFull'</code>, <code class="highlighter-rouge">'keywords'</code>, <code class="highlighter-rouge">'grants'</code>, <code class="highlighter-rouge">'j9'</code>, <code class="highlighter-rouge">'authorsShort'</code>, <code class="highlighter-rouge">'volume'</code>, <code class="highlighter-rouge">'selfCitation'</code>, <code class="highlighter-rouge">'citations'</code>, <code class="highlighter-rouge">'address'</code>, <code class="highlighter-rouge">'abstract'</code>, <code class="highlighter-rouge">'title'</code>, <code class="highlighter-rouge">'month'</code>, <code class="highlighter-rouge">'year'</code>, <code class="highlighter-rouge">'journal'</code>, <code class="highlighter-rouge">'beginningPage'</code> and <code class="highlighter-rouge">'DOI'</code></p>

<h6 id="returns-1">Returns</h6>

<p>The processed value of <em>key</em></p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="writeRecord"></a><small>WOSRecord.</small><strong><a href="/metaknowledge/docs/WOSRecord#writeRecord"><ins>writeRecord</ins></a></strong>(<em>infile</em>):</p>

<p>Writes to <em>infile</em> the original contents of the Record. This is intended for use by <a href="/metaknowledge/docs/WOSRecord#RecordCollection">RecordCollections</a> to write to file. What is written to <em>infile</em> is bit for bit identical to the original record file (if utf-8 is used). No newline is inserted above the write but the last character is a newline.</p>

<h6 id="parameters-3">Parameters</h6>

<p><em>infile</em> : <code class="highlighter-rouge">file stream</code></p>

<p>An open utf-8 encoded file</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="bibString"></a><small>WOSRecord.</small><strong><a href="/metaknowledge/docs/WOSRecord#bibString"><ins>bibString</ins></a></strong>(<em>maxLength=1000, WOSMode=False, restrictedOutput=False, niceID=True</em>):</p>

<p>Makes a string giving the Record as a bibTex entry. If the Record is of a journal article (<code class="highlighter-rouge">PT J</code>) the bibtext type is set to <code class="highlighter-rouge">'article'</code>, otherwise it is set to <code class="highlighter-rouge">'misc'</code>. The ID of the entry is the WOS number and all the Record’s fields are given as entries with their long names.</p>

<p><strong>Note</strong> This is not meant to be used directly with LaTeX none of the special characters have been escaped and there are a large number of unnecessary fields provided. <em>niceID</em> and <em>maxLength</em> have been provided to make conversions easier.</p>

<p><strong>Note</strong> Record entries that are lists have their values seperated with the string <code class="highlighter-rouge">' and '</code></p>

<h6 id="parameters-4">Parameters</h6>

<p><em>maxLength</em> : <code class="highlighter-rouge">optional [int]</code></p>

<p>default 1000, The max length for a continuous string. Most bibTex implementation only allow string to be up to 1000 characters (<a href="https://www.cs.arizona.edu/~collberg/Teaching/07.231/BibTeX/bibtex.html">source</a>), this splits them up into substrings then uses the native string concatenation (the <code class="highlighter-rouge">'#'</code> character) to allow for longer strings</p>

<p><em>WOSMode</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> the data produced will be unprocessed and use double curly braces. This is the style WOS produces bib files in and mostly macthes that.</p>

<p><em>restrictedOutput</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">False</code>, if <code class="highlighter-rouge">True</code> the tags output will be limited to: <code class="highlighter-rouge">'AF'</code>, <code class="highlighter-rouge">'BF'</code>, <code class="highlighter-rouge">'ED'</code>, <code class="highlighter-rouge">'TI'</code>, <code class="highlighter-rouge">'SO'</code>, <code class="highlighter-rouge">'LA'</code>, <code class="highlighter-rouge">'NR'</code>, <code class="highlighter-rouge">'TC'</code>, <code class="highlighter-rouge">'Z9'</code>, <code class="highlighter-rouge">'PU'</code>, <code class="highlighter-rouge">'J9'</code>, <code class="highlighter-rouge">'PY'</code>, <code class="highlighter-rouge">'PD'</code>, <code class="highlighter-rouge">'VL'</code>, <code class="highlighter-rouge">'IS'</code>, <code class="highlighter-rouge">'SU'</code>, <code class="highlighter-rouge">'PG'</code>, <code class="highlighter-rouge">'DI'</code>, <code class="highlighter-rouge">'D2'</code>, and <code class="highlighter-rouge">'UT'</code></p>

<p><em>niceID</em> : <code class="highlighter-rouge">optional [bool]</code></p>

<p>default <code class="highlighter-rouge">True</code>, if <code class="highlighter-rouge">True</code> the ID used will be derived from the authors, publishing date and title, if <code class="highlighter-rouge">False</code> it will be the UT tag</p>

<h6 id="returns-2">Returns</h6>

<p><code class="highlighter-rouge">str</code></p>

<p>The bibTex string of the Record</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="bibTexType"></a><small>WOSRecord.</small><strong><a href="/metaknowledge/docs/WOSRecord#bibTexType"><ins>bibTexType</ins></a></strong>():</p>

<p>Returns the bibTex type corresonding to the record</p>

<h6 id="returns-3">Returns</h6>

<p><code class="highlighter-rouge">str</code></p>

<p>The bibTex type string</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="encoding"></a><small>WOSRecord.</small><strong><a href="/metaknowledge/docs/WOSRecord#encoding"><ins>encoding</ins></a></strong>():</p>

<p>An <code class="highlighter-rouge">abstractmethod</code>, gives the encoding string of the record.</p>

<h6 id="returns-4">Returns</h6>

<p><code class="highlighter-rouge">str</code></p>

<p>The encoding</p>

<hr style="padding: 0;border: none;border-width: 3px;height: 20px;color: #333;text-align: center;border-top-style: solid;border-bottom-style: solid;" />

<p><a name="getAltName"></a><small>WOSRecord.</small><strong><a href="/metaknowledge/docs/WOSRecord#getAltName"><ins>getAltName</ins></a></strong>(<em>tag</em>):</p>

<p>An <code class="highlighter-rouge">abstractmethod</code>, gives the alternate name of <em>tag</em> or <code class="highlighter-rouge">None</code></p>

<h6 id="parameters-5">Parameters</h6>

<p><em>tag</em> : <code class="highlighter-rouge">str</code></p>

<p>The requested tag</p>

<h6 id="returns-5">Returns</h6>

<p><code class="highlighter-rouge">str</code></p>

<p>The alternate name of <em>tag</em> or <code class="highlighter-rouge">None</code></p>

<hr />

<h2 id="questions">Questions?</h2>

<p>If you find bugs, or have questions, please write to:</p>

<p>Reid McIlroy-Young <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#114;&#101;&#105;&#100;&#064;&#114;&#101;&#105;&#100;&#109;&#099;&#121;&#046;&#099;&#111;&#109;">&#114;&#101;&#105;&#100;&#064;&#114;&#101;&#105;&#100;&#109;&#099;&#121;&#046;&#099;&#111;&#109;</a></p>

<p>John McLevey <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#106;&#111;&#104;&#110;&#046;&#109;&#099;&#108;&#101;&#118;&#101;&#121;&#064;&#117;&#119;&#097;&#116;&#101;&#114;&#108;&#111;&#111;&#046;&#099;&#097;">&#106;&#111;&#104;&#110;&#046;&#109;&#099;&#108;&#101;&#118;&#101;&#121;&#064;&#117;&#119;&#097;&#116;&#101;&#114;&#108;&#111;&#111;&#046;&#099;&#097;</a></p>

<hr />

<h2 id="license">License</h2>

<p><em>metaknowledge</em> is free and open source software, distributed under the GPL License.</p>

      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2016 John McLevey and Reid McIlroy-Young. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	
	
	
	
	
	
	
	
	
  
	
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-25394214-5', 'auto');
  ga('send', 'pageview');

</script>
  
</div><!-- /.social-icons -->

  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = '/metaknowledge';
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/metaknowledge/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/metaknowledge/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
 'https://www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-25394214-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = 'https://stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



</body>
</html>
